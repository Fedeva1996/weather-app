{"ast":null,"code":"import{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Forecast=()=>{const[coords,setCoords]=useState([-25.3007,-57.6359]);const[weatherData,setWeatherData]=useState([]);useEffect(()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(success,error);}else{console.log(\"Geolocation not supported\");}function success(position){const latitude=position.coords.latitude;const longitude=position.coords.longitude;setCoords([latitude,longitude]);}function error(){console.log(\"Unable to retrieve your location\");}},[]);useEffect(()=>{if(coords.length===2){const getWeather=async()=>{const response=await fetch(\"https://api.openweathermap.org/data/2.5/forecast?lat=\".concat(coords[0],\"&lon=\").concat(coords[1],\"&appid=\").concat(process.env.REACT_APP_API_KEY,\"&units=metric&lang=es\"));const data=await response.json();setWeatherData(data.list);console.log(data);};getWeather();}},[coords]);const data=weatherData.slice(1,11);const grupedData=Object.groupBy(data,_ref=>{let{dt_txt}=_ref;return dt_txt;});console.log(grupedData);return/*#__PURE__*/_jsx(\"aside\",{className:\"flex-1 flex flex-row items-center justify-center px-4 md:px-6 overflow-x-auto w-[80%] m-auto rounded-md no-scrollbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex flex-auto gap-4 w-full\",children:Object.entries(grupedData).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-3 ml-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:key.slice(10,13)>12?\"0\".concat(key.slice(10,13)-12,\" p.m.\"):\"\".concat(key.slice(10,13),\" a.m.\")}),/*#__PURE__*/_jsx(\"img\",{src:\"https://openweathermap.org/img/wn/\".concat(value[0].weather[0].icon,\"@2x.png\"),alt:value[0].weather[0].description}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[value[0].main.temp,\"\\xB0\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:value[0].weather[0].description})]},key);})})});};export default Forecast;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Forecast","coords","setCoords","weatherData","setWeatherData","navigator","geolocation","getCurrentPosition","success","error","console","log","position","latitude","longitude","length","getWeather","response","fetch","concat","process","env","REACT_APP_API_KEY","data","json","list","slice","grupedData","Object","groupBy","_ref","dt_txt","className","children","entries","map","_ref2","key","value","src","weather","icon","alt","description","main","temp"],"sources":["C:/Users/HOME/Documents/weather-app/src/Components/Forecast.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst Forecast = () => {\r\n  const [coords, setCoords] = useState([-25.3007, -57.6359]);\r\n  const [weatherData, setWeatherData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    } else {\r\n      console.log(\"Geolocation not supported\");\r\n    }\r\n\r\n    function success(position) {\r\n      const latitude = position.coords.latitude;\r\n      const longitude = position.coords.longitude;\r\n      setCoords([latitude, longitude]);\r\n    }\r\n\r\n    function error() {\r\n      console.log(\"Unable to retrieve your location\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (coords.length === 2) {\r\n      const getWeather = async () => {\r\n        const response = await fetch(\r\n          `https://api.openweathermap.org/data/2.5/forecast?lat=${coords[0]}&lon=${coords[1]}&appid=${process.env.REACT_APP_API_KEY}&units=metric&lang=es`\r\n        );\r\n        const data = await response.json();\r\n        setWeatherData(data.list);\r\n        console.log(data);\r\n      };\r\n\r\n      getWeather();\r\n    }\r\n  }, [coords]);\r\n\r\n  const data = weatherData.slice(1, 11);\r\n  const grupedData = Object.groupBy(data, ({ dt_txt }) => dt_txt);\r\n  console.log(grupedData);\r\n  return (\r\n    <aside className=\"flex-1 flex flex-row items-center justify-center px-4 md:px-6 overflow-x-auto w-[80%] m-auto rounded-md no-scrollbar\">\r\n      <div className=\"mt-8 flex flex-auto gap-4 w-full\">\r\n        {Object.entries(grupedData).map(([key, value]) => (\r\n          <div key={key} className=\"flex flex-col items-center gap-3 ml-1\">\r\n            <div className=\"text-sm font-medium\">\r\n              {key.slice(10, 13) > 12\r\n                ? `0${key.slice(10, 13) - 12} p.m.`\r\n                : `${key.slice(10, 13)} a.m.`}\r\n            </div>\r\n            <img\r\n              src={`https://openweathermap.org/img/wn/${value[0].weather[0].icon}@2x.png`}\r\n              alt={value[0].weather[0].description}\r\n            ></img>\r\n            <div className=\"text-lg font-bold\">{value[0].main.temp}Â°</div>\r\n            <div className=\"text-sm font-medium\">\r\n              {value[0].weather[0].description}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\nexport default Forecast;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}